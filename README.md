# ğŸ’§ é—´éš”æ—¶é’Ÿ â€” æœ¯åæ»´çœ¼è¯é—´éš”è®¡æ—¶å™¨

[English](#english) | ä¸­æ–‡

> ä¸€æ¬¾ä¸“ä¸ºçœ¼ç§‘æœ¯åç”¨è¯è®¾è®¡çš„æ¡Œé¢æ‚¬æµ®è®¡æ—¶å™¨ï¼Œå¸®åŠ©ä½ ç²¾å‡†ç®¡ç†å¤šç§çœ¼è¯æ°´çš„æ»´è¯é—´éš”ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ• **ç²¾å‡†é—´éš”è®¡æ—¶** â€” åŸºäº `Date.now()` å·®å€¼è®¡ç®—ï¼Œé¿å… `setInterval` æ¼‚ç§»ï¼Œç¡®ä¿è®¡æ—¶ç²¾å‡†
- ğŸ’Š **å¤šè¯æ°´ç®¡ç†** â€” æ”¯æŒæ·»åŠ ã€åˆ é™¤ã€é‡å‘½åã€æ’åºå¤šç§çœ¼è¯æ°´
- ğŸ”„ **è‡ªåŠ¨çŠ¶æ€æµè½¬** â€” ç©ºé—² â†’ ç­‰å¾…æ»´è¯ â†’ å€’è®¡æ—¶ â†’ æé†’ â†’ ä¸‹ä¸€ç§è¯ï¼Œå…¨æµç¨‹è‡ªåŠ¨å¼•å¯¼
- ğŸ“Œ **æ¡Œé¢æ‚¬æµ®çª—** â€” å°å·§ç½®é¡¶çª—å£ï¼Œä¸é®æŒ¡å·¥ä½œï¼Œéšæ—¶æŸ¥çœ‹ç”¨è¯çŠ¶æ€
- ğŸ”” **å¤šé‡æé†’** â€” æç¤ºéŸ³ + ç³»ç»Ÿé€šçŸ¥ + ä»»åŠ¡æ é—ªçƒï¼Œç¡®ä¿ä¸é”™è¿‡ç”¨è¯æ—¶é—´
- ğŸ“Š **æ¯æ—¥è®°å½•** â€” è‡ªåŠ¨è®°å½•æ¯æ—¥ç”¨è¯æ¬¡æ•°ï¼Œè·¨æ—¥è‡ªåŠ¨é‡ç½®
- âŒ¨ï¸ **å¿«æ·é”®æ”¯æŒ** â€” `Ctrl+Space` å¿«é€Ÿç¡®è®¤ï¼Œ`Space` å¿«é€Ÿæ“ä½œ
- ğŸ¨ **æŠ¤çœ¼æ·±è‰²ä¸»é¢˜** â€” ä¸“ä¸ºæœ¯åçœ¼ç›è®¾è®¡çš„ä½åˆºæ¿€æš—è‰²ç•Œé¢
- ğŸ–±ï¸ **ç³»ç»Ÿæ‰˜ç›˜** â€” å…³é—­çª—å£æœ€å°åŒ–åˆ°æ‰˜ç›˜ï¼Œä¸å½±å“ä½¿ç”¨

## ğŸ“¸ ç•Œé¢é¢„è§ˆ

åº”ç”¨ç•Œé¢ç´§å‡‘ç²¾è‡´ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹çŠ¶æ€ï¼š

| çŠ¶æ€ | è¯´æ˜ |
|------|------|
| ç©ºé—² | æ˜¾ç¤ºä»Šæ—¥ç”¨è¯è¿›åº¦ï¼Œä¸€é”®å¼€å§‹ |
| ç­‰å¾…æ»´è¯ | æç¤ºå½“å‰è¯æ°´åç§°ï¼Œç¡®è®¤å·²æ»´è¯ |
| å€’è®¡æ—¶ | åœ†ç¯è¿›åº¦æ¡ + æ•°å­—å€’è®¡æ—¶ï¼Œæ˜¾ç¤ºä¸‹ä¸€ç§è¯æ°´ |
| æé†’ | è„‰å†²åŠ¨ç”» + æç¤ºéŸ³ï¼Œæé†’è¯¥æ»´ä¸‹ä¸€ç§è¯ |
| å®Œæˆ | æœ¬è½®æ‰€æœ‰è¯æ°´æ»´å®Œï¼Œæ˜¾ç¤ºä»Šæ—¥è¿›åº¦ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- [Node.js](https://nodejs.org/) 16+
- npm æˆ– yarn

### å®‰è£…ä¸è¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/AIME-JF/Interval-timer.git
cd Interval-timer

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨åº”ç”¨
npm start
```

### æ‰“åŒ…å‘å¸ƒ

```bash
# æ‰“åŒ… Windows å®‰è£…ç¨‹åº
npm run build
```

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
é—´éš”æ—¶é’Ÿ/
â”œâ”€â”€ main.js              # Electron ä¸»è¿›ç¨‹
â”œâ”€â”€ preload.js           # é¢„åŠ è½½è„šæœ¬ï¼ˆIPC æ¡¥æ¥ï¼‰
â”œâ”€â”€ package.json         # é¡¹ç›®é…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.html       # ä¸»ç•Œé¢ HTML
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ app.js       # åº”ç”¨ä¸»é€»è¾‘ï¼ˆçŠ¶æ€æœº + UIï¼‰
â”‚   â”‚   â”œâ”€â”€ config.js    # é…ç½®ç®¡ç†ï¼ˆåŠ è½½/ä¿å­˜/è®°å½•ï¼‰
â”‚   â”‚   â””â”€â”€ timer.js     # ç²¾ç¡®å€’è®¡æ—¶å¼•æ“
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ main.css     # æŠ¤çœ¼æ·±è‰²ä¸»é¢˜æ ·å¼
â””â”€â”€ build/
    â””â”€â”€ icon.png         # åº”ç”¨å›¾æ ‡
```

## âš™ï¸ è®¾ç½®è¯´æ˜

ç‚¹å‡»æ ‡é¢˜æ  âš™ æŒ‰é’®æ‰“å¼€è®¾ç½®é¢æ¿ï¼š

| è®¾ç½®é¡¹ | è¯´æ˜ |
|--------|------|
| é—´éš”æ—¶é—´ | ä¸¤ç§è¯æ°´ä¹‹é—´çš„ç­‰å¾…æ—¶é—´ï¼ˆ1-15 åˆ†é’Ÿï¼‰ |
| çœ¼è¯æ°´åç§° | æ”¯æŒæ·»åŠ ã€åˆ é™¤ã€é‡å‘½åã€ä¸Šä¸‹æ’åº |
| æç¤ºéŸ³ | å€’è®¡æ—¶ç»“æŸæ—¶çš„æç¤ºéŸ³å¼€å…³ |
| é‡ç½®ä»Šæ—¥è®°å½• | æ¸…é›¶ä»Šæ—¥ç”¨è¯è®¡æ•° |

## âŒ¨ï¸ å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl+Space` | å…¨å±€å¿«æ·é”®ï¼šå¼€å§‹/ç¡®è®¤æ»´è¯ |
| `Space` | çª—å£å†…å¿«é€Ÿæ“ä½œ |
| `Esc` | å…³é—­è®¾ç½® / æš‚åœè®¡æ—¶ |
| `Ctrl+Shift+T` | æ˜¾ç¤º/éšè—çª—å£ |

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **[Electron](https://www.electronjs.org/)** â€” è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
- **åŸç”Ÿ HTML/CSS/JS** â€” æ— å‰ç«¯æ¡†æ¶ä¾èµ–ï¼Œè½»é‡é«˜æ•ˆ
- **Web Audio API** â€” ç¨‹åºåŒ–ç”Ÿæˆæç¤ºéŸ³ï¼Œæ— éœ€éŸ³é¢‘æ–‡ä»¶
- **requestAnimationFrame** â€” æµç•…çš„å€’è®¡æ—¶åŠ¨ç”»

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºã€‚

---

<a id="english"></a>

# ğŸ’§ Interval Clock â€” Post-Surgery Eye Drop Timer

[ä¸­æ–‡](#) | English

> A desktop floating timer designed for post-ophthalmic-surgery medication, helping you precisely manage the intervals between multiple eye drops.

---

## âœ¨ Features

- ğŸ• **Precise Interval Timing** â€” Uses `Date.now()` delta calculation to avoid `setInterval` drift
- ğŸ’Š **Multi-Medicine Management** â€” Add, remove, rename, and reorder multiple eye drops
- ğŸ”„ **Automatic State Flow** â€” Idle â†’ Waiting â†’ Countdown â†’ Alert â†’ Next drop, fully guided
- ğŸ“Œ **Desktop Floating Window** â€” Compact always-on-top window that won't block your work
- ğŸ”” **Multi-Channel Alerts** â€” Sound + system notification + taskbar flash
- ğŸ“Š **Daily Tracking** â€” Automatically tracks daily sessions, resets on new day
- âŒ¨ï¸ **Keyboard Shortcuts** â€” `Ctrl+Space` for quick confirm, `Space` for fast action
- ğŸ¨ **Eye-Friendly Dark Theme** â€” Low-stimulation dark UI designed for post-surgery eyes
- ğŸ–±ï¸ **System Tray** â€” Minimize to tray on close

## ğŸš€ Quick Start

### Requirements

- [Node.js](https://nodejs.org/) 16+
- npm or yarn

### Install & Run

```bash
# Clone the project
git clone https://github.com/AIME-JF/Interval-timer.git
cd Interval-timer

# Install dependencies
npm install

# Start the app
npm start
```

### Build

```bash
# Package for Windows
npm run build
```

## ğŸ“‚ Project Structure

```
é—´éš”æ—¶é’Ÿ/
â”œâ”€â”€ main.js              # Electron main process
â”œâ”€â”€ preload.js           # Preload script (IPC bridge)
â”œâ”€â”€ package.json         # Project config
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.html       # Main UI
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ app.js       # App logic (state machine + UI)
â”‚   â”‚   â”œâ”€â”€ config.js    # Config management
â”‚   â”‚   â””â”€â”€ timer.js     # Precise countdown engine
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ main.css     # Eye-friendly dark theme
â””â”€â”€ build/
    â””â”€â”€ icon.png         # App icon
```

## âš™ï¸ Settings

Click the âš™ button in the title bar:

| Setting | Description |
|---------|-------------|
| Interval Time | Wait time between drops (1-15 minutes) |
| Eye Drop Names | Add, remove, rename, reorder |
| Notification Sound | Toggle countdown completion sound |
| Reset Today | Clear today's session count |

## âŒ¨ï¸ Shortcuts

| Shortcut | Function |
|----------|----------|
| `Ctrl+Space` | Global: Start/Confirm drop |
| `Space` | In-window quick action |
| `Esc` | Close settings / Pause timer |
| `Ctrl+Shift+T` | Show/Hide window |

## ğŸ› ï¸ Tech Stack

- **[Electron](https://www.electronjs.org/)** â€” Cross-platform desktop framework
- **Vanilla HTML/CSS/JS** â€” No frontend framework, lightweight
- **Web Audio API** â€” Programmatic notification sounds
- **requestAnimationFrame** â€” Smooth countdown animation

## ğŸ“„ License

This project is open source under the [MIT License](LICENSE).
